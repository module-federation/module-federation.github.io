<!DOCTYPE html><html><head><meta charSet="utf-8"/><script src="https://www.googletagmanager.com/gtag/js?id=UA-120967034-1"></script><link rel="prerender" href="/blog"/><script>
function getUrlParams(search) {
    const hashes = search.slice(search.indexOf('?') + 1).split('&')
    const params = {}
    hashes.map(hash => {
        const [key, val] = hash.split('=')
        params[key] = decodeURIComponent(val)
    })
    return params
}

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-120967034-1');
  var redirect = getUrlParams(window.location.href).utm_medium
  if(redirect) window.location.replace(redirect)
</script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introducing the &quot;noservice&quot; architecture | Module Federation </title><meta name="description" content="Utilizing webpack 5 module federation in the back-end"/><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/75a093f2817b58978b96.css" as="style"/><link rel="stylesheet" href="/_next/static/css/75a093f2817b58978b96.css"/><link rel="preload" href="/_next/static/css/46543993bfe2f9026931.css" as="style"/><link rel="stylesheet" href="/_next/static/css/46543993bfe2f9026931.css"/><link rel="preload" href="/_next/static/css/38d9f581f9db2e96e06a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/38d9f581f9db2e96e06a.css"/><link rel="preload" href="/_next/static/chunks/main-a17f51c940413de99dc8.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-ccf5ab034a524403276a.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.0af185ce84f114f60bdc.js" as="script"/><link rel="preload" href="/_next/static/chunks/6c34ab69.b5d8d7cd2c60933856b3.js" as="script"/><link rel="preload" href="/_next/static/chunks/e03e28a46a7c3a177db102176f11029aad0ce763.e451b599d448b2c1ba50.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-8aae2df6e15d516af29f.js" as="script"/><link rel="preload" href="/_next/static/chunks/ab6e12f8.4617b9a8d205a18000e5.js" as="script"/><link rel="preload" href="/_next/static/chunks/93ec4a325a788ea3035ad9954441face8eed40bf.d27e4aa09bbc5bb25e3a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bslug%5D-c9027c56039b792c4606.js" as="script"/></head><body><div id="__next"><div><div class="app-shell_desktop__1Sh7Y"><div><div class="ui inverted vertical segment"><div class="ui large inverted pointing secondary no-print menu"><div class="ui container"><a href="/" class="item">Home</a><a href="/blog/get-started" class="item">Get Started</a><a href="https://medium.com/swlh/webpack-5-module-federation-a-game-changer-to-javascript-architecture-bcdd30e02669" rel="noopener noreferrer" target="blank" class="item">Learn More</a><a href="/blog" class="item">Blog</a><a href="/videos" class="item">Videos</a><div class="right item"><a href="https://github.com/module-federation" rel="noopener noreferrer" target="blank" class="ui inverted button" role="button">GitHub</a></div></div></div><div class="hero_hero__3LLIW"><div class="ui text container"><h1>Introducing the &quot;noservice&quot; architecture</h1><h2>Utilizing webpack 5 module federation in the back-end</h2></div></div></div></div><div class="ui vertical segment article-page_articlePageContent__3XLv8"><div class="ui container stackable middle aligned grid fb"><div class="row"><div class="sixteen wide column"><article class="center-images"><p>Unless you’ve had your head in the sand, you’ve seen how Webpack 5 Module Federation has enabled true micro front-ends, allowing SPA’s to share components between individually deployed services. This allows for “Service A” to deploy with an update to “Service A/SharedComponent”, while “Service B” receive the update to the shared component without a deployment of it’s own.</p><p>This is arguably really cool, but Module Federation allows us to apply this idea to back-ends and work in what I’m calling a “noservice” architecture.</p><h2 id="wtf-is-a-noservice?">WTF is a noservice?</h2><p>Before we jump into what a noservice is, let’s review the microservice architecture through the lens of Apollo Federation. An Apollo Federated Graph consists normally of a single “Gateway” that is responsible for receiving a query from a client then delegating parts of that query out to your microservices to fulfill the request.</p><p><img src="/microservice-architecture.jpg" alt=""/></p><p>One issue with this type of approach comes when you have multiple microservices interacting with the same external services / databases, leading each microservice to load / fetch duplicate data.</p><p>The noservice architecture enables each team to work autonomously in their own repositories, just like in a microservice architecture, while sharing the same runtime at the gateway enabling us to not just get rid of network requests to microservices, but also share dataloaders throughout the execution of each query from the gateway to the noservices.</p><p><img src="/no-service-architecture.jpg" alt=""/></p><p>We can define a noservice as a piece of code, however big or small, that is dynamically loaded by a host and executed in a common runtime.</p><p>The above architecture diagram demonstrates how a noservice architecture may look in an AWS stack. A key things to note here is the only lambda that is running is the “gateway”. On cold-start, the gateway goes out to a few S3 buckets, and in parallel, retrieves the 4 noservices: user, products, checkout, and the shared dataloaders (note that the source of the noservices can be any static file hosting service). </p><p>As with the microservice architecture, we are accomplishing the same overarching goal of creating a Federated Graph with each team responsible for developing and deploying their portion of the graph, but instead of 4 separate lambdas all cross communicating, we have a single runtime, a single set of dataloaders, and only a single call to external APIs or databases no matter how many noservices load that data per request.</p></article></div></div></div></div><div style="padding:5em 0em" class="ui inverted vertical segment"><div class="ui container"><div class="ui inverted stackable divided grid"><div class="row"><div class="six wide column"><h4 class="ui inverted header">More Awesomeness</h4><div role="list" class="ui inverted link list"><a role="listitem" class="item" href="https://github.com/jacob-ebey">Peek My Github</a><a role="listitem" class="item" href="https://jacob-ebey.js.org/resume">Check My Resume</a><a role="listitem" class="item" href="https://jacob-ebey.js.org/about">Learn More About Me</a></div></div><div class="seven wide column"><h4 class="ui inverted header">Looking To The Future</h4><p>Staying up to date on technology and patterns are important, allowing me to work within your existing stack, or propose one that will scale far into the future.</p><p>Created with <span role="img" aria-label="love">❤️</span>by: Jacob Ebey</p></div></div></div></div></div></div><div class="app-shell_mobile__2TX2x"><div class="ui inverted vertical ui push left sidebar menu"><a href="/" class="item">Home</a><a href="/blog/get-started" class="item">Get Started</a><a rel="noopener noreferrer" target="blank" href="https://medium.com/swlh/webpack-5-module-federation-a-game-changer-to-javascript-architecture-bcdd30e02669" class="item">Learn More</a><a href="/blog" class="item">Blog</a><a href="/videos" class="item">Videos</a></div><div class="pusher"><div class="ui inverted vertical segment"><div class="ui container no-print"><div class="ui large inverted pointing secondary menu"><a class="item"><i aria-hidden="true" class="sidebar icon"></i></a><div class="right item"><a href="https://github.com/module-federation" rel="noopener noreferrer" target="blank" class="ui inverted button" role="button">GitHub</a></div></div></div><div class="hero_hero__3LLIW"><div class="ui text container"><h1>Introducing the &quot;noservice&quot; architecture</h1><h2>Utilizing webpack 5 module federation in the back-end</h2></div></div></div><div class="ui vertical segment article-page_articlePageContent__3XLv8"><div class="ui container stackable middle aligned grid fb"><div class="row"><div class="sixteen wide column"><article class="center-images"><p>Unless you’ve had your head in the sand, you’ve seen how Webpack 5 Module Federation has enabled true micro front-ends, allowing SPA’s to share components between individually deployed services. This allows for “Service A” to deploy with an update to “Service A/SharedComponent”, while “Service B” receive the update to the shared component without a deployment of it’s own.</p><p>This is arguably really cool, but Module Federation allows us to apply this idea to back-ends and work in what I’m calling a “noservice” architecture.</p><h2 id="wtf-is-a-noservice?">WTF is a noservice?</h2><p>Before we jump into what a noservice is, let’s review the microservice architecture through the lens of Apollo Federation. An Apollo Federated Graph consists normally of a single “Gateway” that is responsible for receiving a query from a client then delegating parts of that query out to your microservices to fulfill the request.</p><p><img src="/microservice-architecture.jpg" alt=""/></p><p>One issue with this type of approach comes when you have multiple microservices interacting with the same external services / databases, leading each microservice to load / fetch duplicate data.</p><p>The noservice architecture enables each team to work autonomously in their own repositories, just like in a microservice architecture, while sharing the same runtime at the gateway enabling us to not just get rid of network requests to microservices, but also share dataloaders throughout the execution of each query from the gateway to the noservices.</p><p><img src="/no-service-architecture.jpg" alt=""/></p><p>We can define a noservice as a piece of code, however big or small, that is dynamically loaded by a host and executed in a common runtime.</p><p>The above architecture diagram demonstrates how a noservice architecture may look in an AWS stack. A key things to note here is the only lambda that is running is the “gateway”. On cold-start, the gateway goes out to a few S3 buckets, and in parallel, retrieves the 4 noservices: user, products, checkout, and the shared dataloaders (note that the source of the noservices can be any static file hosting service). </p><p>As with the microservice architecture, we are accomplishing the same overarching goal of creating a Federated Graph with each team responsible for developing and deploying their portion of the graph, but instead of 4 separate lambdas all cross communicating, we have a single runtime, a single set of dataloaders, and only a single call to external APIs or databases no matter how many noservices load that data per request.</p></article></div></div></div></div><div style="padding:5em 0em" class="ui inverted vertical segment"><div class="ui container"><div class="ui inverted stackable divided grid"><div class="row"><div class="six wide column"><h4 class="ui inverted header">More Awesomeness</h4><div role="list" class="ui inverted link list"><a role="listitem" class="item" href="https://github.com/jacob-ebey">Peek My Github</a><a role="listitem" class="item" href="https://jacob-ebey.js.org/resume">Check My Resume</a><a role="listitem" class="item" href="https://jacob-ebey.js.org/about">Learn More About Me</a></div></div><div class="seven wide column"><h4 class="ui inverted header">Looking To The Future</h4><p>Staying up to date on technology and patterns are important, allowing me to work within your existing stack, or propose one that will scale far into the future.</p><p>Created with <span role="img" aria-label="love">❤️</span>by: Jacob Ebey</p></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":"Unless you've had your head in the sand, you've seen how Webpack 5 Module Federation has enabled true micro front-ends, allowing SPA's to share components between individually deployed services. This allows for \"Service A\" to deploy with an update to \"Service A/SharedComponent\", while \"Service B\" receive the update to the shared component without a deployment of it's own.\n\nThis is arguably really cool, but Module Federation allows us to apply this idea to back-ends and work in what I'm calling a \"noservice\" architecture.\n\n## WTF is a noservice?\n\nBefore we jump into what a noservice is, let's review the microservice architecture through the lens of Apollo Federation. An Apollo Federated Graph consists normally of a single \"Gateway\" that is responsible for receiving a query from a client then delegating parts of that query out to your microservices to fulfill the request.\n\n![](/microservice-architecture.jpg)\n\nOne issue with this type of approach comes when you have multiple microservices interacting with the same external services / databases, leading each microservice to load / fetch duplicate data.\n\nThe noservice architecture enables each team to work autonomously in their own repositories, just like in a microservice architecture, while sharing the same runtime at the gateway enabling us to not just get rid of network requests to microservices, but also share dataloaders throughout the execution of each query from the gateway to the noservices.\n\n![](/no-service-architecture.jpg)\n\nWe can define a noservice as a piece of code, however big or small, that is dynamically loaded by a host and executed in a common runtime.\n\nThe above architecture diagram demonstrates how a noservice architecture may look in an AWS stack. A key things to note here is the only lambda that is running is the \"gateway\". On cold-start, the gateway goes out to a few S3 buckets, and in parallel, retrieves the 4 noservices: user, products, checkout, and the shared dataloaders (note that the source of the noservices can be any static file hosting service). \n\nAs with the microservice architecture, we are accomplishing the same overarching goal of creating a Federated Graph with each team responsible for developing and deploying their portion of the graph, but instead of 4 separate lambdas all cross communicating, we have a single runtime, a single set of dataloaders, and only a single call to external APIs or databases no matter how many noservices load that data per request.","data":{"author":"","title":"Introducing the \"noservice\" architecture","secondary_title":"Utilizing webpack 5 module federation in the back-end","date":"2020-04-29"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"introducing-the-noservice-architecture"},"buildId":"yiGUoJRy9246mchSqVAjH","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-23a172e4dd5698d8d45e.js"></script><script src="/_next/static/chunks/main-a17f51c940413de99dc8.js" async=""></script><script src="/_next/static/chunks/webpack-ccf5ab034a524403276a.js" async=""></script><script src="/_next/static/chunks/framework.0af185ce84f114f60bdc.js" async=""></script><script src="/_next/static/chunks/6c34ab69.b5d8d7cd2c60933856b3.js" async=""></script><script src="/_next/static/chunks/e03e28a46a7c3a177db102176f11029aad0ce763.e451b599d448b2c1ba50.js" async=""></script><script src="/_next/static/chunks/pages/_app-8aae2df6e15d516af29f.js" async=""></script><script src="/_next/static/chunks/ab6e12f8.4617b9a8d205a18000e5.js" async=""></script><script src="/_next/static/chunks/93ec4a325a788ea3035ad9954441face8eed40bf.d27e4aa09bbc5bb25e3a.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-c9027c56039b792c4606.js" async=""></script><script src="/_next/static/yiGUoJRy9246mchSqVAjH/_buildManifest.js" async=""></script><script src="/_next/static/yiGUoJRy9246mchSqVAjH/_ssgManifest.js" async=""></script></body></html>